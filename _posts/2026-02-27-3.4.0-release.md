---
layout: post
title: "Pachli 3.4.0 released"
date: "2026-02-27 09:00:00 +0200"
categories: pachli
image:
  path: /assets/posts/2026-02-xx-3.4.0-release/og_image.png
---
Pachli 3.4.0 is now available. This release shows you hashtags on post that were previously hidden, allows you to search for posts that do / do not quote other posts, works around security certificate problems, and has fixes for quotes, media playback, and more.

<!--more-->

## New features and other improvements

### Show hidden hashtags at the end of the content

As you probably know, the content of posts on Mastodon and similar servers can contain hashtags, and you can follow hashtags so all posts with the hashtag appear in your home feed.

Posts can also contain "hidden" or "out-of-band" hashtags. Mastodon doesn't let you create posts with hidden hashtags, but other Fediverse software does -- for example, [Piefed](https://join.piefed.social/).

If a post contains a hidden hashtag, and you follow the hashtag, the post will appear in your feed.

Previously, Pachli wasn't displaying the hidden hashtags, which could cause confused users asking "Why is this post in my home feed?".

Now, if there are any hidden hashtags Pachli appends a paragraph to the post containing all of them, so it's still clear why your feed contains the post. 

Feedback from [NeatNit (@neatnit@fosstodon.org)](https://fosstodon.org/@neatnit), [Harald Hannelius (@harald@mementomori.social)](https://mementomori.social/@harald) prompted the work to fix this.

### Search improvements

#### Show a count of active filters in the search filter badge

The badge on the "filter" icon when search filters are active now tells you how many different filters are active.

#### Searching for posts that quote other posts

Mastodon 4.4.5 and above supports limiting searches to only posts that quote or other posts (or only posts that don't quote other posts).

If your account is on a server running Mastodon 4.4.5 or greater Pachli now shows this as an additional search filter.

When searching, tap the "filters" button and the "Quotes" option will appear at the right end of the second row. Tap this to open a dialog to choose from the possible options.

This screenshot shows this, and also highlights the filter badge when one other filter is already active.

<img alt="" src="/assets/posts/2026-02-xx-3.4.0-release/search-quotes.png" class="shadow">

### Trust new intermediate certificates from Sectigo

If you use an Android 7 device you may have had problems connecting to some servers if the server's security certificate was issued by [Sectigo](https://www.sectigo.com), as Android 7 refuses to connect.

This is similar to the problem with Let's Encrypt certificates fixed with [Pachli 2.5.0](/pachli/2024/04/29/2.5.0-release.html#android-7-devices-and-lets-encrypt).

This problem was reported by [Amélie Cornélis (@AmelieCornelis@freeradical.zone)](https://freeradical.zone/@AmelieCornelis), and is fixed.

### Updates to translations

Languages with updated translations are:

- Chinese (Traditional Han script) by [黃冠霖](https://github.com/pachli/pachli-android/commits?author=hc520520520@gmail.com) (their first contribution to Pachli)
- Estonian by [Priit Jõerüüt](https://github.com/pachli/pachli-android/commits?author=jrthwlate@users.noreply.hosted.weblate.org)
- French by [Terry L](https://github.com/pachli/pachli-android/commits?author=terrylaire@gmail.com)
- German by [Kachelkaiser](https://github.com/pachli/pachli-android/commits?author=kachelkaiser@htpst.de)
- Irish by [Aindriú Mac Giolla Eoin](https://github.com/pachli/pachli-android/commits?author=aindriu80@gmail.com)
- Kabyle by [ButterflyOfFire](https://github.com/pachli/pachli-android/commits?author=boffire@users.noreply.hosted.weblate.org)
- Latvian by [Edgars Andersons](https://github.com/pachli/pachli-android/commits?author=Edgars+Weblate@gaitenis.id.lv)
- Polish by [Łukasz Horodecki](https://github.com/pachli/pachli-android/commits?author=lukasz@horodecki.net)
- Slovak by [Russssty](https://github.com/pachli/pachli-android/commits?author=russssty@users.noreply.hosted.weblate.org)
- Spanish by [Juan M Sevilla](https://github.com/pachli/pachli-android/commits?author=jumase@disroot.org)

If you would like to help improve Pachli's translation in to your language there's [information on how you can contribute](https://github.com/pachli/pachli-android/blob/main/docs/contributing/translate.md).

## Significant bug fixes

### Don't crash if a poll has a missing `votesCount`

[D.Hamlin (@dhamlinmusic@dragonscave.space)](https://dragonscave.space/@dhamlinmusic) reported problems loading posts containing polls missing the count of votes on the poll. This should be fixed with #[2117](https://github.com/pachli/pachli-android/pull/2117). 

### Displaying posts with quotes

There was a lot of useful feedback about how Pachli displays quotes and related bugs which resulted in many fixes.

#### Don't show quotes if the quoting post has a closed content warning 

[Jules (@blitter@mastodon.catgirl.cloud)](https://mastodon.catgirl.cloud/@blitter) and [Sarah Peper (@jay_peper@chaos.social)](https://chaos.social/@jay_peper) both reported (#[2037](https://github.com/pachli/pachli-android/issues/2037)) that if a post quoted another post and had a content warning, Pachli was still displaying the quote if you hadn't clicked through the content warning on the post that quoted it.

This breaks a boost-with-content-warning usage of quoted posts, and was fixed in #[2098](https://github.com/pachli/pachli-android/pull/2098).

#### Handle quotes on Friendica/Akkoma servers

[Kristian (@z428eu@quietmoon.org)](https://quietmoon.org/profile/z428eu) and [blit @blit@mastodon.ml](https://mastodon.ml/@blit) both reported (#[2043](https://github.com/pachli/pachli-android/issues/2043)) problems loading posts containing quotes on servers running [Friendica](https://friendi.ca/) or [Akkoma](https://akkoma.social).

Both these platforms implemented quote support before Mastodon, and Mastodon's implementation has re-used some of their work in an incompatible fashion.

Pachli now recognises this, and will display quotes correctly if you use a Friendica or Akkoma server (#[2133](https://github.com/pachli/pachli-android/pull/2133)).

#### Improve handling of "quote links"

Mastodon includes a "quote link" in posts containing a quote, for backwards compatibility with clients that do not support quotes.

In some cases Pachli was removing these links when it shouldn't (reported by [Nordnick (@nick@mammuthus.de)](https://mammuthus.de/@nick), fixed in #[2126](https://github.com/pachli/pachli-android/issues/2126)), and some servers return those links wrapped in extra HTML elements, and Pachli now handles those too (#[2137](https://github.com/pachli/pachli-android/issues/2137)).

#### Show quotes in boosted posts

[Mauricio Teixeira (@badnetmask@hachyderm.io)](https://hachyderm.io/@badnetmask) reported a problem where boosted posts containing a quote could cause a crash. He provided a detailed set of reproduction steps, which was very helpful in tracking down the problem. This was fixed in #[2113](https://github.com/pachli/pachli-android/issues/2113).

#### Correctly show placeholder for blocked quotes

[Kalle Kniivilä (@kallekn@mastodonsweden.se)](https://mastodon.social/@kallekn@mastodonsweden.se) reported #[2052](https://github.com/pachli/pachli-android/issues/2052), where a post containing a quote you couldn't see wasn't showing the correct placeholder to indicate a quote was present.

This turned out to be both a bug in Pachli and a bug in [Flipboard](https://flipboard.com), where Flipboard was not correctly approving quotes. Both bugs have now been fixed (#[2102](https://github.com/pachli/pachli-android/pull/2102) for Pachli, and by [Gregory Scallan (@greg@flipboard.social)](https://flipboard.social/@greg) for Flipboard).

### Media playback

#### Don't auto-resume playback if the user scrubs media

[Fluchtkapse (@fluchtkapsel@nerdculture.de)](https://nerdculture.de/@fluchtkapsel) reported (#[2112](https://github.com/pachli/pachli-android/issues/2112)) pausing a video, scrubbing through the video to a new point, then stopping, caused the video to resume playing instead of remaining paused. Fixed with #[2118](https://github.com/pachli/pachli-android/pull/2118).

#### Ensure media playback starts if there was no preview image

[@TKb0iZ@sunny.garden](https://sunny.garden/@TKb0iZ) reported audio files were loading without displaying the playback controls.

Further investigation showed this was happening with any media that didn't display a preview image; typically audio files, but also video files if you had disabled media previews.

This was fixed with #[2084](https://github.com/pachli/pachli-android/pull/2084)

### Pachli's database

Pachli keeps a database of information it needs for normal operation on your device. A number of issues with this are fixed or improved in this release.

#### Trim database cache at startup if needed

##### Background

To operate efficiently Pachli keeps a database on your device, caching information you have received from your server; posts, how they relate to each other, how you have interacted with them (e.g., have you clicked through a post's content warning?), etc.

This database is encrypted, associated with your account, and deleted when you remove your account from Pachli or when you delete Pachli. It is not accessible to other applications, and is never sent off your device (unless you have opted in to Google's device backup, see the [privacy policy](/privacy/#data-backup-and-restore-with-google-drive) for more). 

Left untended, Pachli's database on your device would grow without bounds.

To ensure this doesn't happen, approximately every 12 hours, and if your device is idle, Pachli cleans the database, removing cached items no longer referenced from your cached timelines. This process typically takes a second or less.

Unfortunately, some Android manufacturers, in a quest to artificially inflate their battery performance numbers, aggressively prevent applications from performing any sort of background work.

Manufacturers known to do this include:

- Huawei
- Xiaomi
- OnePlus
- Samsung

and more (see [Don't kill my app!](https://www.dontkillmyapp.com)).

Before Pachli supported quotes this problem went unnoticed. Over time Pachli would take a bit longer to work on these devices, and would use more and more space, but it would still work. Because Pachli does not report any external telemetry it was not possible for the developers to proactively discover this was happening.

> This also explains why notification delivery on these devices may be sporadic if you don't use Unified Push. Android on these devices stops the periodic tasks Pachli launches to fetch new notifications.

This changed when Pachli supported quotes, as Pachli has to manipulate more data to do this. With the normal size of the database -- a few hundred to a thousand posts -- this is not a problem. However, if you have been using Pachli for a while on a device from one of these manufacturers you may have tens or even hundreds of thousands of cached posts.

Creating your home timeline -- which should normally take milliseconds -- could take multiple seconds, or even crash because Pachli needed more memory than was available.

People who reported these issues and helped with debugging include:

- [arclight (@arclight@oldbytes.space)](https://oldbytes.space/@arclight)
- [A Flock of Beagles (@burnitdown@beige.party)](https://beige.party/@burnitdown)
- [Irene (@irenetherogue@freesky.world)](https://freesky.world/@irenetherogue)
- [Kommadieb (@kommadieb@norden.social)](https://norden.social/@kommadieb)
- [langhaarschneider (@langhaarschneider@sueden.social)](https://sueden.social/@langhaarschneider)
- [Luchuco Cadáver (@lufertec@mastodon.uy)](https://mastodon.uy/@lufertec)
- [MaMü (@mamue@norden.social)](https://norden.social/@mamue)
- [Matthew Booth (@mattb@hachyderm.io)](https://hachyderm.io/@mattb)
- [neutronwrangler (@neutronwrangler@mastodon.org.uk)](https://mastodon.org.uk/@neutronwrangler)
- [O Galdo (@pcgaldo@mastodon.pcgaldo.com)](https://mastodon.pcgaldo.com/@pcgaldo)
- [Radgryd (@Radgryd@mstdn.games)](https://mstdn.games/@Radgryd)
- [Sashin (@sashin@veganism.social)](https://veganism.social/@sashin)
- [ScottMGS (@ScottMGS@justme.masto.host)](https://justme.masto.host/@ScottMGS)
- [ticho (@ticho@mas.to)](https://mas.to/@ticho)
- [Tomasz (@tomo@floss.social)](https://floss.social/@tomo)

##### What Pachli does now

Every time you start Pachli it performs a quick check to see how many posts are cached. If it's too many then the database is trimmed immediately.

This is a quick fix while I think of a better one.

##### What you can do

1. Don't buy devices from these manufacturers in the future.
2. Open [Don't kill my app!](https://dontkillmyapp.com), and click on the entry for your device's manufacturer (e.g., [Huawei's page](https://dontkillmyapp.com/huawei)). You will see suggestions for settings you can change on your device that will, sometimes, fix the problem, at no cost to your effective battery life. 

#### Ensure database migrations work when upgrading from very old versions

To support new features the structure of Pachli's database is sometimes modified from one release to the next.

A bug caused those modifications to be missed if you were upgrading from a very old Pachli version (2.12.0 or older), causing a crash when the new version starts.

This was reported by [Sebastian Wagner](https://github.com/sebastianwagner) in #[2062](https://github.com/pachli/pachli-android/issues/2062) and [Florian Berger (@flberger@nerdculture.de)](https://nerdculture.de/@flberger) in #[2119](https://github.com/pachli/pachli-android/issues/2119), and fixed with #[2129](https://github.com/pachli/pachli-android/pull/2129).

## Thank you

Thank you to everyone who took the time to report issues and provide additional followup information and screenshots.

{% include playlink.html link="Download Pachli 3.4.0 from Google Play" app="app.pachli" campaign="release-3.4.0" content="textlink" %}, [F-Droid](https://f-droid.org/en/packages/app.pachli/), or the [GitHub release page](https://github.com/pachli/pachli-android/releases/tag/v3.4.0).